<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8">
		<title>D3: Empty page template</title>
		<script type="text/javascript" src="d3/d3.v3.js"></script>
		<style type="text/css">
		  #tooltip {
		  position: absolute;
		  width: 200px;
		  height: autopx;
		  padding: 10px;
		  background-color: white;
		  -webkit-border-radius: 10px;
		  -moz-border-radius: 10px;
		  border-radius: 10px;
		  -webkit-box-shadow: 4px 4px 10px rgba(0, 0, 0, 0.4);
		  -moz-box-shadow: 4px 4px 10px rgba(0, 0, 0, 0.4);
		  box-shadow: 4px 4px 10px rgba(0, 0, 0, 0.4);
		  pointer-events: none;
		  }
		  #tooltipe.hidden {
		  display: none;
		  }
		  #tooltip p {
		  margin: 0;
		  font-family: sans-serif;
		  font-size: 16px;
		  line-height: 20px;
		  }
		</style>
	</head>
	<body>
	  <div id="viz"></div>
	  <div id="tooltip" class="hidden">
	    <p><strong>Important Label Heading</strong></p>
	    <p><span id="value"></span></p>
	  </div>
		<script type="text/javascript">
			// Your beautiful D3 code will go here
			d3.xml("circos.svg","image/svg+xml",function(error,xml) {
			if (error) {console.log(error)} // Log errors

			var importedNode = document.importNode(xml.documentElement, true);
			d3.select("#viz").node().appendChild(importedNode);
			var heatmaps = d3.selectAll("path");
			//heatmaps.style("stroke","green");

			// ON MOUSEOVER
			heatmaps.on("mouseover",function(d){
			var item = d3.select(this)
			var w = 500
			var h = 100
			// Make the 'dataset' consist of attributes from the circle
			var dataset = [item.attr("id"),item.attr("val")]
/*
			var xScale = d3.scale.linear()
					     .domain([0,d3.max(dataset,function(d) {return d;})])
					     .range([0,w]);
*/
			//var rScale = d3.scale.linear().domain([0,d3.max(dataset,function(d) {return d;})]).range([2,5]);

               //highlight the circle
               d3.select(this).classed("cell-hover",true);
	       item.style("stroke", "red").attr("r","8.0").style("fill","red");
        
               //Update the tooltip position and value
               d3.select("#tooltip")
                 .style("left", (d3.event.pageX+10) + "px")
                 .style("top", (d3.event.pageY-10) + "px")
		 .style("width","750px")
		 .style("height","300px")
                 .select("#value")
                 .text("labels: Gene ID = "+item.attr("id")+", Log2 fold change = "+item.attr("val"));
	       // Draw an svg for graphing, to which other elements can be added
	       var minisvg = d3.select("#tooltip").append("svg")
		 .attr("width", w)
		 .attr("height", h);
	       // Make circles, bind the data
	       //var minicircles = minisvg.selectAll("circle")
		// .data(dataset)
		 //.enter()
		 //.append("circle");
	       // Make the circles properties reflect the data
	       //minicircles.attr("cx",function(d,i) { return (i * 50) + 25;})
		 //      .attr("cy",25)
		 //      .attr("r",function(d) {return rScale(d);});
               //Show the tooltip
               d3.select("#tooltip").classed("hidden", false);
        })
        .on("mouseout", function(d){
	       var heatmap = d3.select(this)
               d3.select("#tooltip").classed("hidden", true);
	       d3.select("#tooltip").select("svg").remove();
	       heatmap.transition().style("stroke","green").attr("r","1.0").style("fill","green");
        });


})




<!-- This section is devoted to the mouseover feature -->
                        
		</script>
	</body>
</html>
